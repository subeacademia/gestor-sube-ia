<div class="cotizacion-card">
  <div class="cotizacion-header">
    <h3>{{ contrato.codigo || contrato.id }}</h3>
    <span class="fecha">{{ formatDate(contrato.fechaCreacionContrato) }}</span>
  </div>
  
  <div class="cotizacion-body">
    <p><strong>Título:</strong> {{ contrato.titulo }}</p>
    <p><strong>Cliente:</strong> {{ contrato.nombreCliente }}</p>
    <p><strong>Empresa:</strong> {{ contrato.empresa }}</p>
    <p><strong>Email:</strong> {{ contrato.emailCliente }}</p>
    
    <div class="cliente-info">
      <p><strong>RUT:</strong> {{ contrato.rutCliente }}</p>
    </div>
    
    <div class="total-info">
      <strong>Total: {{ formatCurrency(contrato.valorTotal) }}</strong>
    </div>
    
    <div class="monto-info">
      <strong>Estado: {{ contrato.estado }}</strong>
    </div>
  </div>
  
  <div class="cotizacion-actions">
    <!-- Selector de estado -->
    <select 
      class="estado-select" 
      [value]="contrato.estado"
      (change)="onEstadoChange($event)">
      <option value="Pendiente de Firma">Pendiente de Firma</option>
      <option value="Enviado">Enviado</option>
      <option value="Firmado">Firmado</option>
      <option value="Finalizado">Finalizado</option>
    </select>
    
    <!-- Botones de acción -->
    <button class="btn-action btn-info" (click)="verPDF()" title="Ver PDF">
      📄
    </button>
    
    <button class="btn-action btn-success" (click)="enviarFirma()" title="Enviar para Firma">
      📧
    </button>
    
    <button class="btn-action btn-warning" (click)="editarContrato()" title="Editar">
      ✏️
    </button>
    
    <button class="btn-action btn-danger" (click)="eliminarContrato()" title="Eliminar">
      🗑️
    </button>
  </div>
</div>
