<div class="admin-container">
  <app-header (logoutEvent)="onLogout()"></app-header>

  <main class="admin-main">
    <div class="admin-content">
      <!-- Secci칩n de Estad칤sticas -->
      <div class="stats-section">
        <app-stat-card 
          *ngFor="let stat of stats" 
          [title]="stat.title" 
          [value]="stat.value">
        </app-stat-card>
      </div>

      <!-- Secci칩n de Filtros -->
      <div class="filters-section">
        <div class="search-group">
          <label for="buscador">游댌 Buscar en tiempo real:</label>
          <input 
            type="text" 
            id="buscador" 
            [(ngModel)]="searchTerm"
            placeholder="Buscar por c칩digo, nombre, empresa, email, atendido..." 
            class="search-input">
        </div>
        
        <div class="filter-group">
          <label for="filtro-fecha">Filtrar por fecha:</label>
          <select id="filtro-fecha" [(ngModel)]="filtroFecha">
            <option value="todos">Todos</option>
            <option value="hoy">Hoy</option>
            <option value="semana">Esta semana</option>
            <option value="mes">Este mes</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="filtro-atendedor">Filtrar por atendido:</label>
          <select id="filtro-atendedor" [(ngModel)]="filtroAtendedor">
            <option value="todos">Todos</option>
            <option value="Rodrigo Carrillo">Rodrigo Carrillo</option>
            <option value="Bruno Villalobos">Bruno Villalobos</option>
            <option value="Mario Mu침oz">Mario Mu침oz</option>
            <option value="Nicol치s Valenzuela">Nicol치s Valenzuela</option>
            <option value="Ignacio Villarroel">Ignacio Villarroel</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="filtro-estado">Filtrar por estado:</label>
          <select id="filtro-estado" [(ngModel)]="filtroEstado">
            <option value="todos">Todos los estados</option>
            <option value="emitida">Emitida</option>
            <option value="contestada">Contestada</option>
            <option value="en-negociacion">En Negociaci칩n</option>
            <option value="aceptada">Aceptada</option>
            <option value="rechazada">Rechazada</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="filtro-mes">Filtrar por mes:</label>
          <select id="filtro-mes" [(ngModel)]="filtroMes">
            <option value="todos">Todos los meses</option>
            <option value="1">Enero</option>
            <option value="2">Febrero</option>
            <option value="3">Marzo</option>
            <option value="4">Abril</option>
            <option value="5">Mayo</option>
            <option value="6">Junio</option>
            <option value="7">Julio</option>
            <option value="8">Agosto</option>
            <option value="9">Septiembre</option>
            <option value="10">Octubre</option>
            <option value="11">Noviembre</option>
            <option value="12">Diciembre</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="filtro-ano">Filtrar por a침o:</label>
          <select id="filtro-ano" [(ngModel)]="filtroAno">
            <option value="todos">Todos los a침os</option>
            <option value="2024">2024</option>
            <option value="2023">2023</option>
            <option value="2022">2022</option>
          </select>
        </div>
        
        <button (click)="aplicarFiltros()" class="btn btn-filter">Aplicar Filtros</button>
      </div>

      <!-- Secci칩n de Cotizaciones -->
      <div class="cotizaciones-section">
        <h2>游늶 Tablero de Cotizaciones</h2>
        
        <!-- Vista de lista de cotizaciones -->
        <div class="cotizaciones-list">
          <div *ngIf="(cotizaciones$ | async)?.length === 0" class="no-data">
            No hay cotizaciones disponibles
          </div>
          
          <app-quote-card 
            *ngFor="let cotizacion of cotizaciones$ | async" 
            [cotizacion]="cotizacion"
            (verDetallesEvent)="onVerDetalles($event)"
            (editarEvent)="onEditar($event)"
            (cambiarEstadoEvent)="onCambiarEstado($event)"
            (generarContratoEvent)="onGenerarContrato($event)"
            (eliminarEvent)="onEliminar($event)">
          </app-quote-card>
        </div>
      </div>
    </div>
  </main>
</div>
